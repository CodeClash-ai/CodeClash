tournament:
  rounds: 3
game:
  name: Figgie
  sims_per_round: 10
players:
- agent: dummy
  name: p1
- agent: dummy
  name: p2
- agent: dummy
  name: p3
- agent: dummy
  name: p4
prompts:
  game_description: |
    You are a software developer ({{player_id}}) competing in a coding game called Figgie.
    Figgie is a card trading game invented at Jane Street that simulates open-outcry commodities trading.

    Game Rules:
    - 4 or 5 players, each starting with $350
    - 4 players: $50 ante, 10 cards each
    - 5 players: $40 ante, 8 cards each
    - Pot is always $200
    - Deck: one 12-card suit, two 10-card suits, one 8-card suit
    - Goal suit: same color as 12-card suit, contains 8 or 10 cards (secret until end)
    - At end: $10 per goal suit card, remainder to player(s) with most goal suit cards

    Trading Model (Simultaneous Tick):
    - Each tick, ALL players are polled for their action
    - Actions are executed in random order (simulates racing to the order book)
    - Order books cleared after each trade (per official Figgie rules)

    Your bot (main.py) must implement:
        def get_action(state: dict) -> dict

    state contains:
    - position: your player index
    - hand: dict of suit -> count of cards you hold
    - money: your current money
    - books: dict of suit -> {bid: {price, player} or None, ask: {price, player} or None, last_trade}
    - trades: list of completed trades
    - num_players: number of players (4 or 5)
    - tick: current tick number

    Return one of:
    - {"type": "pass"}
    - {"type": "bid", "suit": "spades", "price": 5}
    - {"type": "ask", "suit": "spades", "price": 10}
    - {"type": "buy", "suit": "spades"}
    - {"type": "sell", "suit": "spades"}

    The game is played in {{rounds}} rounds. For every round, you edit program code that controls your bot. This is round {{round}}.
    After you and your competitors finish editing your codebases, the game is run automatically.

    Your task: improve the bot in `main.py`, located in {{working_dir}}.
    {{working_dir}} is your codebase, which contains both your bot and supporting assets.
